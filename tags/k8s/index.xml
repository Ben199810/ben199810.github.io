<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>k8s on bing-wei's Blog</title><link>https://ben199810.github.io/tags/k8s/</link><description>Recent content in k8s on bing-wei's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-TW</language><copyright>© 2025 bing-wei</copyright><lastBuildDate>Sun, 24 Sep 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://ben199810.github.io/tags/k8s/index.xml" rel="self" type="application/rss+xml"/><item><title>minikube 安裝 for M系列晶片 Mac</title><link>https://ben199810.github.io/posts/minikube/install/apple/</link><pubDate>Sun, 24 Sep 2023 00:00:00 +0000</pubDate><guid>https://ben199810.github.io/posts/minikube/install/apple/</guid><description>前言 # 最近趁著 BTS 學生教育方案入手了 macbook pro m2 版本，因此也想要在上面安裝 minikube 來練習 k8s 的操作。但在安裝的過程中，發現了一些問題，因此紀錄一下。
問題 # 在安裝的過程中，發現目前 vitrualbox 還不支援 m1 與 m2 版本的 mac。所以找了其他的虛擬機軟體
其中也有使用 hyperkit 來安裝的方式。但也是不行。
解決方案 # 後來找到 Qemu 這個虛擬機軟體，這邊簡單介紹。</description><media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://ben199810.github.io/posts/minikube/install/apple/featured.png"/></item><item><title>container veth name provided (eth0) already exists 故障排除</title><link>https://ben199810.github.io/journals/k8s/veth-name-provided-already-exists/</link><pubDate>Sun, 17 Sep 2023 00:00:00 +0000</pubDate><guid>https://ben199810.github.io/journals/k8s/veth-name-provided-already-exists/</guid><description>前言 # 最近在協助公司專案轉雲端架構時，由於服務只能啟用一個 pod 提供線上服務的運作，因此也選擇使用 statefulSet 部署服務，在這過程中發現的問題。
事件流程 # RD 同仁更新了 code 到 gitLab，並沒有順利的完成 CICD。原因是 statefulSet pod 在關閉時，停留在 terminating，雖然 k8s 有 terminationGracePeriodSeconds，但由於情況特殊。當下的 terminationGracePeriodSeconds 是 14400，長達四小時。
因線上緊急的問題，所以針對 terminating pod 採取了 kubectl delete pod [pod name] --grace-period=0 --force。之後重新建立的 pod 就會出現以下的錯誤訊息 :backhand_index_pointing_down:</description><media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://ben199810.github.io/journals/k8s/veth-name-provided-already-exists/featured.png"/></item><item><title>Ingress Controller 簡介</title><link>https://ben199810.github.io/posts/k8s/ingress-controller/</link><pubDate>Sat, 19 Aug 2023 00:00:00 +0000</pubDate><guid>https://ben199810.github.io/posts/k8s/ingress-controller/</guid><description>前言 # 隨著系統架構可能日益龐大，可能會使用複數的 ingress 來做進入服務的區分。以防止在 ingress 異常的時候，會影響全體的服務使用。缺點是複數的 ingress 需要使用靜態 IP。在 GCP 的服務上，每保留一組靜態 IP 服務就是增加成本。接著會介紹 ingress controller 這項服務用於管理所有的 ingress。
上一篇文章中有提到 ingress，如果想瞭解 ingress 可以先參考或預習這篇文章。 Ingress 6 August 2023&amp;middot;1 分鐘&amp;middot; loading &amp;middot; loading k8s ingress Nginx Ingress Controller # 這篇文章要講解的 Nginx Ingress Controller 結合了 Ingress 的簡潔並支援 Nginx 相關的擴充功能，讓我們能更好的管理所有的 ingress，下面會簡單提到 nginx 以及 ingress 優點。</description><media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://ben199810.github.io/posts/k8s/ingress-controller/featured.png"/></item><item><title>Ingress</title><link>https://ben199810.github.io/posts/k8s/ingress/</link><pubDate>Sun, 06 Aug 2023 00:00:00 +0000</pubDate><guid>https://ben199810.github.io/posts/k8s/ingress/</guid><description>介紹 ingress # ingress 是 k8s 給 service 提供外部訪問的 URL、SSL、路由等功能。 可以理解為 nginx 或 traefik 等的代理工具。允許透過某個 URL 進入對應的 service，且碰到某些 route 能夠 proxy pass 到其他 service。
:star: ingress 又分成外部負載平衡、內部負載平衡。兩者在使用設定上有一些小小的不同。
外部負載平衡 # 通常對外部的負載平衡入口，都會設置防火牆或是白名單管理但是 k8s ingress 卻不能直接實現。需要透過一些 gcp 元件功能，來設置防火牆或白名單管理。</description><media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://ben199810.github.io/posts/k8s/ingress/featured.png"/></item></channel></rss>